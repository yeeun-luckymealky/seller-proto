# 사장님 화면 개편안 리포트

## Executive Summary

기존 `luckymeal-frontend-main`의 사장님 화면을 `lseller`로 개편하면서, **"음식 폐기를 줄이면서 추가 수익을 얻고 싶은 사장님"** 의 핵심 JTBD를 더 효과적으로 충족시키는 방향으로 설계했습니다.

---

## 1. 핵심 JTBD 분석

### 사장님의 근본적인 Job

> **"하루 영업이 끝날 때 남는 음식을 버리지 않고, 적은 노력으로 추가 수익을 만들고 싶다"**

이 Job을 세분화하면:

| Job | 기존 화면 충족도 | 개편 후 충족도 |
|-----|----------------|--------------|
| 오늘 럭키백 현황을 빠르게 파악 | △ 탭 이동 필요 | ◎ 홈에서 즉시 확인 |
| 주문 상태를 실시간으로 확인 | ○ GNB 주문 탭 | ◎ 타임라인 시각화 |
| 설정 변경을 최소화하고 싶음 | △ 설정 페이지 진입 필요 | ◎ 홈에서 바로 수량 변경 |
| 고객 응대에 시간 쓰기 싫음 | ✗ 직접 작성 | ◎ AI 자동 생성 |
| 얼마 벌었는지 알고 싶음 | ○ 정산 탭 | ◎ 홈에서 환경 기여와 함께 표시 |

---

## 2. 기존 화면 (luckymeal-frontend-main) 분석

### 구조
```
/place (홈)
├── GNB 4개 탭: 주문 | 판매설정 | 주문알림 | 정산
├── 각 탭별 기능 분리
└── 설정은 별도 페이지로 이동
```

### 문제점

#### 2.1 정보 분산
- **주문 현황**: GNB 첫 번째 탭
- **판매 수량 설정**: GNB 두 번째 탭 → 별도 페이지
- **정산 정보**: GNB 네 번째 탭
- 사장님이 "오늘 얼마나 팔렸지?"를 확인하려면 **최소 2번의 탭 이동** 필요

#### 2.2 인지 부하
- PlaceTopBar에서 가게 상태 표시 (Draft, Under Review, Active...)
- 하지만 "오늘 예약이 몇 개고, 언제 확정되는지"는 바로 안 보임
- 주문 카드에 정보가 많아 **스캔이 어려움**

#### 2.3 반복 작업
- 리뷰 답변: 매번 직접 작성
- 확정/취소 메시지: 템플릿 없이 직접 입력
- 판매 수량: 매일 수동으로 설정

#### 2.4 기술 스택의 복잡성
- Next.js 15 + TypeScript + Tailwind + Radix UI + React Query
- Feature-based 폴더 구조 (45개 이상의 feature 컴포넌트)
- 유지보수 및 빠른 수정이 어려움

---

## 3. 개편 화면 (lseller) 설계 철학

### 3.1 "한 화면에서 오늘을 끝낸다"

```
홈 화면 구성:
┌─────────────────────────────────┐
│  안녕하세요, OO 사장님 :)        │
│  12월 9일 월요일                 │
├─────────────────────────────────┤
│  [오늘의 럭키백 타임라인]         │
│  예약오픈 → 확정 → 픽업시작 → 마감 │
│                                 │
│  남은 수량: 3개 / 5개  [수량 변경] │
├─────────────────────────────────┤
│  확정 대기 주문 2건 →            │
├─────────────────────────────────┤
│  [환경 기여]                     │
│  45kg CO₂ | 128개 판매 | 32만원   │
├─────────────────────────────────┤
│  [바로가기]                      │
│  럭키백 설정  |  픽업 시간 설정    │
└─────────────────────────────────┘
```

**핵심 변화**: GNB 4개 탭 → **홈 중심 + 하단 네비게이션 3개** (홈, 주문, 설정)

### 3.2 시간 기반 타임라인

기존: "주문 상태"를 텍스트로 나열
개편: **시각적 타임라인**으로 "지금 어디까지 진행됐는지" 즉시 파악

```
[●]────[●]────[○]────[○]
예약    확정    픽업    마감
오픈    완료    시작
```

### 3.3 AI 기반 자동화

| 기능 | 기존 | 개편 |
|-----|-----|-----|
| 리뷰 답변 | 직접 작성 | **AI 추천** 버튼 클릭 → 자동 생성 |
| 확정 메시지 | 없음 | **AI 추천** → 가게 특색 반영 |
| 취소 메시지 | 없음 | **AI 추천** → 정중한 사과문 |
| 럭키백 설명 | 직접 작성 | **AI 추천** → 메뉴 기반 자동 생성 |
| 판매 수량 | 감으로 설정 | **AI 추천** → 취소율 분석 기반 |

### 3.4 토스 디자인 시스템 적용

| 요소 | 기존 | 개편 |
|-----|-----|-----|
| 색상 | Tailwind 기본 | 토스 컬러 팔레트 (#3182F6, #16CC83) |
| 카드 | 다양한 스타일 혼재 | 통일된 Card 컴포넌트 (16px radius, soft shadow) |
| 버튼 | Radix Button | 토스 스타일 Button (Primary/Secondary/Ghost) |
| 입력 | 테두리 있음 | 배경색 기반 (gray50), 테두리 없음 |
| 날짜 | 브라우저 기본 | **한국식 커스텀** (2025년 12월 9일) |

---

## 4. 화면별 개편 상세

### 4.1 홈 화면

**Before (기존)**
```
- GNB 주문 탭 선택 시에만 주문 목록 표시
- 판매 현황은 판매설정 탭에서 확인
- 정산 정보는 정산 탭에서 확인
```

**After (개편)**
```
- 인사말 + 오늘 날짜
- 타임라인으로 오늘 진행 상황 시각화
- 남은 수량 + 즉시 변경 버튼
- 대기 주문 알림 카드
- 환경 기여 통계 (CO₂, 판매량, 매출)
- 주요 설정 바로가기
```

### 4.2 주문 관리

**Before**
```
- OrderCard에 모든 정보 나열
- 주문 코드, 가격, 수량, 고객 정보, 픽업 시간 등
- 확장/축소 UI
```

**After**
```
- 주문 코드 (컬러 닉네임) 강조
- 상태 Badge로 즉시 구분 (예약/확정/픽업완료)
- 매너 점수 시각화
- 확장 시 상세 정보 + 액션 버튼
```

### 4.3 럭키백 설정

**Before**
```
/place/luckybag-setting 별도 페이지
- 카테고리, 가격, 설명 입력
- 저장 버튼
```

**After**
```
- 음식 카테고리 선택 (BottomSheet)
- 대표 메뉴 3개 입력
- 럭키백 설명 + **AI 추천** 버튼
- 가격 설정 + 실시간 정산 예상 금액
- 확정/취소 메시지 + **AI 추천** 버튼
```

### 4.4 픽업 시간 설정

**Before**
```
/place/pickup-time-setting
- 요일별 시간 설정
- 휴무일 설정
```

**After**
```
- 요일별 토글 + 시간 설정 (인라인)
- 일괄 설정 기능
- 특별 휴무 추가
  - **토스 스타일 날짜 선택기** (년/월/일 드롭다운)
  - 한국식 날짜 표기 (2025년 12월 25일)
```

### 4.5 리뷰 관리

**Before**
```
/place/review
- 리뷰 목록만 표시
- 답변 기능 없음 (또는 별도)
```

**After**
```
- 전체 리뷰 수 + 답글 작성 수 통계
- 리뷰 카드에서 바로 답글 작성
- **AI 추천** 버튼으로 답변 자동 생성
- 고객 닉네임, 별점 반영한 맞춤 답변
```

---

## 5. 기술적 변화

### 5.1 아키텍처 단순화

| 항목 | 기존 | 개편 |
|-----|-----|-----|
| 프레임워크 | Next.js 15 (App Router) | React (Vite) |
| 언어 | TypeScript | JavaScript |
| 스타일링 | Tailwind + Radix | Inline Styles + 토스 토큰 |
| 상태관리 | Zustand + React Query | useState (로컬) |
| 폴더 구조 | Feature-based (45+ 컴포넌트) | 단일 파일 + 모듈 분리 |
| 빌드 시간 | ~10초+ | ~300ms |

### 5.2 백엔드 정합성

```javascript
// 기존: 프론트엔드 자체 네이밍
const PLATFORM_FEE = 0.098;
const PAYMENT_FEE = 0.03;

// 개편: 백엔드와 동일한 네이밍
import { LUCKY_MEAL_FEE_RATE, PAYMENT_FEE_RATE } from './constants';
// LUCKY_MEAL_FEE_RATE = 0.098 (백엔드 place.const.ts와 동일)
```

### 5.3 AI 통합

```javascript
// Claude API 직접 연동
export const generateReviewReply = async (placeName, reviewContent, rating) => {
  const systemPrompt = `당신은 음식점 사장님을 대신해...
    - 마크다운 서식 절대 사용 금지`;
  return callClaude(systemPrompt, userMessage);
};
```

---

## 6. 근본적인 변화 요약

### Before: "기능 중심 설계"
- 주문, 판매설정, 알림, 정산이라는 **기능 카테고리**로 분리
- 사장님이 원하는 정보를 찾으려면 **탭을 돌아다녀야 함**
- 복잡한 기술 스택으로 유지보수 어려움

### After: "Job 중심 설계"
- **"오늘 장사 어떻게 되고 있지?"** → 홈에서 즉시 확인
- **"주문 들어왔네, 확정해야지"** → 홈에서 바로 이동
- **"리뷰 답변 써야 하는데..."** → AI가 대신 작성
- **"내일 몇 개 팔지?"** → AI가 취소율 분석해서 추천

---

## 7. 기대 효과

| 지표 | 예상 개선 |
|-----|----------|
| 일일 앱 사용 시간 | 30% 감소 (필요한 정보를 빠르게 찾음) |
| 리뷰 답변율 | 50%+ 증가 (AI 자동 생성) |
| 설정 변경 빈도 | 유지 (하지만 소요 시간 감소) |
| 취소율 | 감소 예상 (AI 기반 수량 추천) |
| 사장님 만족도 | 상승 (반복 작업 자동화) |

---

## 8. 향후 로드맵

### Phase 1 (현재)
- [x] 홈 화면 개편
- [x] AI 기능 5종 통합
- [x] 토스 디자인 시스템 적용
- [x] 날짜 선택기 한국화

### Phase 2 (예정)
- [ ] 실제 백엔드 API 연동
- [ ] 푸시 알림 통합
- [ ] 다크모드 정식 지원
- [ ] 직원 관리 기능

### Phase 3 (미래)
- [ ] 매출 분석 대시보드
- [ ] 고객 인사이트 (단골, 재방문율)
- [ ] 다중 가게 관리 개선

---

## 결론

`lseller` 개편의 핵심은 **"사장님이 럭키밀에 쓰는 시간을 최소화하면서, 필요한 정보와 기능은 바로 손에 닿게 하는 것"** 입니다.

기능을 줄인 게 아니라, **Job이 발생하는 맥락에 맞게 재배치**했습니다. 그리고 반복적인 작업은 **AI가 대신**합니다.

이것이 "사장님용 럭키밀"이 추구하는 방향입니다.

---

*작성일: 2025년 12월 9일*
*작성: Claude Code*
